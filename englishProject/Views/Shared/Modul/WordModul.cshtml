@using englishProject.Infrastructure
@using englishProject.Models
@using Newtonsoft.Json
@{
    ViewBag.Title = "levelExam";
    Level level = ViewBag.level;
}
<div id="examWrapper">
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="row">
                <div class="col-md-8">

                    <ol class="breadcrumb examheader">
                        <li class="active"><strong>@level.Box.boxName </strong></li>
                        <li class="active"><strong>@level.levelName</strong> </li>
                        <li class="active"><strong>Seviye(@level.levelNumber)</strong> </li>
                    </ol>
                </div>
                <div class="col-md-4 text-right">

                    <ol class="breadcrumb examHeaderSubLevel">

                        <li data-bind="css: { subLevelActive:subLevelNumber()==1}" class="active">Temel <i class="fa fa-chevron-right"></i> </li>
                        <li data-bind="css: { subLevelActive:subLevelNumber()==2 }" class="active">İleri <i class="fa fa-chevron-right"></i></li>
                        <li data-bind="css: { subLevelActive:subLevelNumber()==3 }" class="active">Mükemmel</li>
                    </ol>
                </div>
            </div>

            <div class="panel">
                <div class="panel-body">
                    <div class="row">

                        <div class=" col-md-9">

                            <div class="progress">
                            </div>
                        </div>
                        <div class=" col-md-1">
                            <strong data-bind="text:currentQuestion()"></strong><strong> / </strong>
                            <strong data-bind="text:totalQuestions"></strong>
                        </div>
                        <div class=" col-md-2">

                            <span data-bind="visible:totapInCorrect()<1"><i class="fa fa-heart fa-2x heart-color"></i></span>
                            <span data-bind="visible:totapInCorrect()<2"><i class="fa fa-heart fa-2x heart-color"></i></span>
                            <span data-bind="visible:totapInCorrect()<3"><i class="fa fa-heart fa-2x heart-color"></i></span>
                        </div>
                    </div>
                    <hr style="margin:0 0 10px;" />
                    <div class="row">
                        <div class="col-md-4 ">
                            <div class="btn btn-default disabled" type="button">
                                <i class="fa fa-tachometer"></i>  Puan: <span data-bind="text:totalPuan" class="badge"></span>
                            </div>

                            <div class="btn btn-default disabled">
                                <i class="fa fa-star" data-bind="css:{starColor:star()>0}"></i>

                                <i class="fa fa-star" data-bind="css:{starColor:star()>1}"></i>

                                <i class="fa fa-star" data-bind="css:{starColor:star()>2}"></i>
                            </div>
                        </div>
                    </div>

                    <div class="row" data-bind="visible:!updateWrapper()">
                        <div class="col-md-12 text-center">
                            <h1 style="background-color: #F5F5F5;padding: 5px 30px;" class="img-thumbnail" data-bind="text:Questions.Question"></h1>
                            <h4 data-bind="text:questionText" class="text-muted"></h4>
                        </div>

                        <div data-bind="visible:subLevelNumber()<3" class="col-md-12 text-center">
                            <hr />
                            <div id="btnsWrapper" class="" data-bind="foreach:Questions.QestionList">

                                <button data-bind="click:$parent.nextQuestion,attr:{id:$data}" type="button" style=" border: 2px solid #3097d1;" class="btn btn-default btn-lg btn-level"><span data-bind="text:$data"></span></button>
                            </div>
                        </div>

                        <div data-bind="visible:subLevelNumber()>2" class="col-md-12 text-center">
                            <hr />
                            <div class="form-inline">
                                <div class="form-group form-group-lg">
                                    <input data-bind="value:textValue" class="form-control" style="margin: 3px;" type="text">
                                    <button id="btnControl" data-bind="click:nextQuestion" style="margin:3px;" class="btn btn-primary btn-lg form-control" type="button">Kontrol et</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="alert alert-success updateAlert" role="alert" data-bind="visible:updateWrapper()">
                                <div class="row">
                                    <div class="col-md-12  text-center">
                                        <div class="col-md-2 ">
                                            <i class="fa fa-thumbs-o-up fa-5x"></i>
                                        </div>
                                        <div id="warning" class="col-md-8  ">
                                            <p data-bind="text:okText"></p>
                                            <div class="btn btn-default disabled" type="button">
                                                Kazanılan  puan: <span data-bind="text:totalPuan" class="badge"></span>
                                            </div>

                                            <div class="btn btn-default disabled">
                                                Kazanılan yıldız:
                                                <i class="fa fa-star" data-bind="css:{starColor:star()>0}"></i>

                                                <i class="fa fa-star" data-bind="css:{starColor:star()>1}"></i>

                                                <i class="fa fa-star" data-bind="css:{starColor:star()>2}"></i>
                                            </div>
                                        </div>
                                        <div class="col-md-2">

                                            <button style="margin-top: 12px;" data-bind="click:updateBtn,disable:loading" class=" btn btn-success btn-lg"><i data-bind="visible:loading" class="fa fa-refresh fa-spin"></i> Devam <i class="fa fa-arrow-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div data-bind="visible:warningAppear()" class="alert alert-danger examInCorrectAlert" role="alert">
                    <div class="row">
                        <div class="col-md-12 col-sm-12 text-center">
                            <div class="col-md-2 col-sm-2  ">
                                <i class="fa fa-exclamation-triangle fa-3x"></i>
                            </div>
                            <div id="warningWrapper" class="col-md-8 col-sm-8">
                            </div>
                            <div class="col-md-2 col-sm-3">
                                <button data-bind="click:nextBtn" class=" btn btn-primary btn-lg">Devam <i class="fa fa-arrow-right"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>