@using englishProject.Infrastructure
@using englishProject.Models
@model List<englishProject.Infrastructure.BoxLevelUser>
@section scripts
{
    <script type="text/javascript">

        $(document).ready(function () {

            $("#boxCarausel").carousel('pause');
            $("#input-6e").rating();

        });
    </script>

}

@helper LevelBox(int boxNumber, int levelNumber, int levelNumberAppear, int kind, string levelName, bool locked, int star, int subLevelCount)
{

    <li>
        <a data-boxnumber="@boxNumber" data-levelnumber="@levelNumber" data-kind="@kind" href="#" class="btn  btn-lg btn-level subLevelSelect  @(@locked ? "btn-primary" : "btn-success")">
            <div>

                <span class="badge badge-level"><strong> @levelNumberAppear</strong></span>
                <br />
                <small>Seviye</small>
            </div>

            <div style="border-top: 1px solid #214E72;margin-top: 4px;">
                <small>@levelName</small>
            </div>
            <div>

                <input id="@boxNumber-@levelNumber" value="@star" class="rating" data-min="0" data-max="@subLevelCount" data-step="1" data-stars="@subLevelCount" data-show-caption="false" data-disabled="true" data-size="xs" data-show-clear="false">
            </div>
            <div>

                <div>
                    <i class="fa @(@locked ? "fa-lock" : "fa-unlock")"></i>
                </div>
            </div>
        </a>
    </li>

}

<div class="panel panel-default" style="position: relative;">

    <div style="position: absolute; right: 15px; top: 15px;z-index: 10">

        <a href="#boxCarausel" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a href="#boxCarausel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="panel-body">

        <div id="boxCarausel" class="carousel slide">

            <!-- Wrapper for slides -->
            <div class="carousel-inner" role="listbox">

                @foreach (BoxLevelUser item in Model)
                {

                    <div class="item @(item.Box.boxNumber==1 ? "active" : null)">
                        <h3 style="margin-top: 0px;color: #286090;"><i class="fa fa-cube" style="color: #286090;"></i>  @item.Box.boxName kutusu</h3>
                        <hr />
                        <ul class="list-unstyled list-inline">

                            @foreach (CustomLevel levelOne in item.UserLevels)
                            {
                                @LevelBox(levelOne.Level.boxNumber, levelOne.Level.levelNumber, levelOne.Level.levelNumberAppear, levelOne.Level.kind, levelOne.Level.levelName, false, levelOne.Star, levelOne.Level.levelSubLevel)
                            }

                            @foreach (Level level2 in item.OtherLevels)
                            {

                                @LevelBox(level2.levelNumber, level2.levelNumber, level2.levelNumberAppear, level2.kind, level2.levelName, true, 0, level2.levelSubLevel)

                            }
                        </ul>
                    </div>
                }
            </div>
        </div>
    </div>
</div>